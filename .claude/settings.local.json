{
  "permissions": {
    "allow": [
      "Bash(python -m katrain:*)",
      "Bash(python:*)",
      "Bash(timeout 5 python:*)",
      "Bash(git switch:*)",
      "Bash(git pull:*)",
      "Bash(git add:*)",
      "Bash(git stash:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfeat: Phase 7 - improve karte quality with cross-tabulation and urgent miss detection\n\nThis commit implements Phase 7 improvements to enhance the quality of karte\n\\(diagnostic reports\\) for better LLM-based coaching:\n\n## 1. Phase Ã— Mistake Cross-tabulation\n- Add _format_phase_mistake_breakdown\\(\\) to game.py\n- Display mistake distribution across game phases \\(Opening/Middle/Endgame\\)\n- Show both count and total loss for each phase-mistake combination\n- Helps identify phase-specific weaknesses\n\n## 2. Urgent Miss Pattern Detection\n- Add _detect_urgent_miss_sequences\\(\\) to detect consecutive large losses\n- Identifies situations where both players missed critical points \\(20+ points, 3+ consecutive\\)\n- Separates urgent miss patterns from normal worst moves in reports\n- Add coaching recommendations for urgent miss patterns \\(tsumego, awareness habits\\)\n\n## 3. SGF to GTP Coordinate Conversion\n- Add _convert_sgf_to_gtp_coord\\(\\) for human-readable coordinates\n- Convert internal SGF format \\(ll, rf\\) to GTP format \\(L12, R6\\)\n- Improves readability in reports\n\n## 4. Skill-based Threshold Configuration\n- Add UrgentMissConfig and URGENT_MISS_CONFIGS to eval_metrics.py\n- Support three skill presets:\n  * beginner: 30+ points, 4+ consecutive \\(detects only major oversights\\)\n  * standard: 20+ points, 3+ consecutive \\(default for dan players\\)\n  * advanced: 15+ points, 3+ consecutive \\(sensitive to smaller urgent situations\\)\n- Apply skill-based thresholds in __main__.py summary generation\n- Update game.py _format_weakness_hypothesis to use configurable thresholds\n\n## 5. Multi-game Summary Integration\n- Integrate all features into _build_summary_from_stats\\(\\) in __main__.py\n- Add weakness hypothesis section to build_summary_report\\(\\) in game.py\n- Maintain backwards compatibility with existing reports\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr merge:*)",
      "Bash(findstr:*)",
      "Bash(timeout 10 python:*)",
      "Bash(git commit:*)",
      "Bash(Select-String -Pattern \"error|Error|Exception|Traceback\" -Context 2)",
      "Bash(cat:*)",
      "Bash(ls:*)",
      "Bash(timeout 15 python:*)",
      "Bash(Select-String -Pattern \"error|Error|Exception|Traceback|setting.png\" -Context 2)",
      "Bash(git branch:*)",
      "Bash(git fetch:*)",
      "Bash(git check-ignore:*)",
      "Bash(find:*)",
      "Bash(wc:*)",
      "Bash(git log:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ndocs: fix roadmap contradictions and update Claude guidance for analysis package\n\n- docs/01-roadmap.md:\n  - Phase 4: clarify Phase 4-1 completed, 4-2~4-4 deferred to Phase 10+\n  - Freedom buckets: mark as removed \\(2025-12-31\\), explain conditional display\n- CLAUDE.md: add analysis/ package structure to code tree\n- .claude/rules/01-correction-levels.md: update eval_metrics â†’ analysis/ guidance\n- .claude/rules/03-debug-workflow.md: point to analysis/ for debugging\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(uv run pytest:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\ntest: add confidence gating edge case tests for partial analysis patterns\n\nAdd 7 new tests to cover edge cases in confidence gating logic:\n- test_all_zero_visits_no_crash_and_low: Zero visits edge case\n- test_extreme_high_visits: High visits \\(2000\\) edge case\n- test_very_short_game_exactly_min_coverage: MIN_COVERAGE=5 boundary\n- test_very_short_game_below_min_coverage: Below MIN_COVERAGE \\(4\\)\n- test_partial_analysis_suffix_missing: First half analyzed only\n- test_partial_analysis_scattered: Every other move analyzed\n- test_handicap_metadata_no_crash: Handicap games don''t crash\n\nAdd 4 new fixtures in conftest.py:\n- all_zero_visits_moves\n- extreme_high_visits_moves\n- partial_analysis_suffix_missing\n- partial_analysis_scattered\n\nAll expectations derived from current logic \\(no hardcoded assumptions\\).\nNo production code changes.\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(grep:*)",
      "Bash(cd:*)",
      "Bash(python3:*)"
    ]
  }
}
