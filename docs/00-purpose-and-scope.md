# myKatrain（PC版）目的とスコープ

> 最終更新: 2025-12-30
> このドキュメントは **変更しにくい「固定ルール」** を定義します。
> フェーズ計画は `01-roadmap.md` を参照してください。

---

## 1. 目的（このソフトで達成したいこと）

**KataGo解析を元に「カルテ（Karte）」を作り、主要LLM＋コーチ資料で"的確な改善提案"を引き出し、継続的に棋力向上へ繋げる。**

具体的には：
- 重要局面・弱点・悪癖を「自分が納得できる根拠つき」で可視化する
- LLMが扱いやすい形（添付だけで根拠が追える）に整形する
- **診断→追加質問→行動ルール** に落とし込めるようにする

目的は「最善手当てクイズ」ではなく、**弱点の同定と矯正（行動の変化）** を最短距離で回すこと。

---

## 2. 想定ユーザー

- **主に**: 上達目的で自局を振り返る人（中級〜有段者を中心に想定）
- **典型利用シーン**:
  1. 自局SGF（数局）を解析
  2. カルテ出力
  3. LLMに添付して相談
  4. 次の対局で行動ルールを試す

---

## 3. "黄金ルート"（最短で価値が出る使い方）

```
1. SGFを読み込む（ネット碁/対局ソフト/検討用）
2. KataGoで解析（勝率/目差/損失など）
3. myKatrainがカルテを生成（1局 or 複数局まとめ）
4. ユーザーがカルテ＋コーチ資料をLLMへ渡す
5. LLMが「要約→仮説→追加質問→診断→行動ルール」へ整理
6. 次の対局で行動ルールを実践 → 再度カルテで検証
```

---

## 4. スコープ（v1で"やる"範囲）

### 4.1 カルテ生成・出力（最優先）
- 1局カルテ（局面・損失・重要局面・傾向）
- 複数局まとめカルテ（共通傾向の抽出）
- LLM向けに **根拠アンカー** が追える形

### 4.2 LLM連携支援（v1で現実的な範囲）
- 相談用テンプレ（プロンプト雛形）の自動生成
- 添付パッケージ化（karte.md + sgf + coach.md をまとめる）
- まずは **コピー＆添付運用**（API連携は急がない）

### 4.3 次点（カルテが使える前提で効く機能）
- 重要局面からの問題生成（Quiz）
- 棋譜並べ/復習支援

---

## 5. non-goals（当面やらない／優先しない）

| やらないこと | 理由 |
|-------------|------|
| フル機能SGFエディタ化 | 分岐ツリーや高度編集は主目的にしない |
| 大規模棋譜管理DB | タグ検索・クラウド同期等のライブラリ化は後回し |
| LLM自動送信 | v1ではコピペ添付で十分 |
| 「最善手当て」の訓練化 | クイズは補助、主戦場にしない |
| 対局支援（チート） | 想定しない |

---

## 6. 設計原則（ブレないためのルール）

### 6.1 カルテが第一級の成果物
- 後続の機能はカルテ品質が上がる方向にだけ増やす

### 6.2 根拠が追えない情報は出さない
- 「どの手（#）」「どの座標」「どの数値（KataGo）」が根拠かを残す

### 6.3 LLMの幻覚を起こしにくい入出力
- "添付のみを根拠にする"運用・テンプレを前提に設計する

---

## 7. 成功条件（このプロジェクトが"できた"と言える状態）

- [ ] 3-5局のカルテ＋コーチ資料で、LLMが主要な弱点（1-2個）を安定して指摘できる
- [ ] 追加質問が「当たり前の一般論」ではなく、分岐に効く質問になる
- [ ] 行動ルールが実践可能な粒度に落ちる
- [ ] 次の数局で、カルテ上の「大ミス（5目以上）」が減るなど、改善の兆候が追える

---

## 8. 変更履歴

- 2025-12-30: v1.1 Claude Code移行対応で整理
- 2025-12-26: v0.1 作成
